============================================
Identify which tests are deployed / undeployed
============================================
 * @author  hcrites@cscc.edu (Heather Crites)
 * @created 09/10/2020	
============================================




============================================
Notes:
============================================
This is useful for identifying unused tests, surveys, or pools that may be deleted.

In the query, replace the following variables with your institution-specific values:
	[course_pk1]: enter the specific course_main.pk1 value to look up a specific course





============================================
Returns:
============================================
  COURSE_PK1: the pk1 value of the course
  COURSE_ID: the course_id of the course
  QAD_PK1: the pk1 value of the test
  TITLE: the title of the test
  CA_PK1: the pk1 value of the exam deployment (null if not deployed)
  USING_IND: either 'using' or 'not using'
	
	

	
============================================
Query:
============================================
select qti_asi_data.crsmain_pk1 as course_pk1
	, course_main.course_id
	, qti_asi_data.pk1 as qad_pk1
	, qti_asi_data.title
	, course_assessment.pk1 as ca_pk1
	, case when course_assessment.pk1 is null then 'not using' else 'using' end as using_ind
from qti_asi_data
left outer join course_assessment on course_assessment.qti_asi_data_pk1 = qti_asi_data.pk1
inner join course_main on course_main.pk1 = qti_asi_data.crsmain_pk1
where qti_asi_data.crsmain_pk1 = [course_pk1] 
   and qti_asi_data.parent_pk1 is null
   and bbmd_assessmenttype = 1
order by qti_asi_data.title
